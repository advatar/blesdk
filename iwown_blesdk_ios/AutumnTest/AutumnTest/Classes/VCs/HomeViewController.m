//
//  HomeViewController.m
//  IW_BLESDK
//
//  Created by caike on 15/12/25.
//  Copyright © 2015年 iwown. All rights reserved.
//
typedef enum {
    TableSectionDeviceInfo = 0,
    TableSectionHwOption,
    TableSectionSetAndRead,
    TableSectionDataSync,
    TableSectionMessage,
    TableSectionECG
    
} TableSection;
#import "BLEShareInstance.h"
#import "DCViewController.h"
#import "Header.h"
#import "DeviceStateView.h"
#import "DConfigViewController.h"
#import "HWOptionController.h"
#import "CHOptionController.h"
#import "ClockViewController.h"
#import "DataViewController.h"
#import "BlackListViewController.h"
#import "MoreViewController.h"
#import "SedentaryViewController.h"
#import "WeatherViewController.h"
#import "StartSetViewController.h"
#import "SleepViewController.h"
#import "SportsViewController.h"
#import "DFUViewController.h"

#import "HomeViewController.h"
#import "ecgDemoViewController.h"

#import "ExerciseViewController.h"
#import "BlackListForColorViewController.h"
#import "DNDViewController.h"

#import "NSDate+DateTools.h"

#import "RealTimeDataViewController.h"
#import "BLDurationViewController.h"

#import "CameraView.h"
#import <AVFoundation/AVFoundation.h>

#define CEP_URL @"https://search.iwown.com/cep/1513^cep_pak_3days/cep_pak.bin"

@interface HomeViewController ()<UITableViewDataSource,UITableViewDelegate,DeviceStateViewDelegate>
{
    NSArray             *_arr;
    NSArray             *_arrS;
    UITableView         *_tableView;
    UIButton            *_logBtn;
    DeviceStateView     *_dsView;
}
@end

@implementation HomeViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(refreshDeviceInfo:) name:@"GetDeviceInfo" object:nil];
     [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(refreshDeviceState:) name:@"DEVICEDIDCONNECTED" object:nil];

    [self initParam];
    [self initUI];
}

- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
}

- (void)initParam {
    
    self.navigationItem.title = @"IVBLEDemo";
    
    _arrS = @[@"DEVICE CONFIG",@"HWOption",@"SET&READ",@"DATA SYNC",@"MESSAGE",@"ECG", @"GPS", @"血压", @"PB_RealTime_sensor", @"Back light duration", @"智拍"];
    _arr =  @[@[@"DEVICE CONFIG", @"Dev tmp", @"DND", @"ZRStart", @"File-Update", @"DFU(固件升级)"],
              @[@"HWOption",@"Schedule&Clock",@"Custom Option",@"Sedentary"],
              @[@"Date Time",@"More",@"Weather",@"Target",@"Motor"],
              @[@"Summary Data",@"Sysc More",@"Sleep Lib",@"Sport AC"],
              @[@"Push String",@"Black List",@"BlackListForColor"],
              @[@"ECG滤波"],
              @[@"Color GPS", @"Color GPS Detail", @"开启辅助定位", @"结束辅助定位", @"获取手环的gps状态", @"检查今天是否更新", @"检查是否打开AGPS", @"AGPS包长度下发"],
              @[@"彩屏获取血压数据"],
              @[@"RealTime data"],
              @[@"Back light duration"],
              @[@"开启智拍"]
              ];
    [BLEShareInstance shareInstance];
}

- (void)initUI {
    SEL action = @selector(reConnectAction);
    self.navigationItem.rightBarButtonItem = [[UIBarButtonItem alloc]initWithTitle:@"ReConnect" style:UIBarButtonItemStylePlain target:self action:action];
    [self drawTableView];
    [self drawDeviceView];
}

- (void)drawTableView {
    _tableView = [[UITableView alloc]initWithFrame:self.view.bounds style:UITableViewStylePlain];
    _tableView.delegate = self;
    _tableView.dataSource = self;
    [self.view addSubview:_tableView];
}

- (void)drawDeviceView {
    _dsView = [[DeviceStateView alloc] init];
    _dsView.backgroundColor = [UIColor whiteColor];
    _dsView.frame = CGRectMake(0, 0, SCREEN_WIDTH, 60);
    _dsView.delegate = self;
    _tableView.tableHeaderView = _dsView;
}

#pragma -mark - tableView datasource
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
    return _arrS.count;
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    return [_arr[section] count];
}

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {
    return _arrS[section];
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *Id = @"cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:Id];
    if (cell == nil) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:Id];
    }
    cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
    cell.textLabel.text = _arr[indexPath.section][indexPath.row];
    cell.textLabel.font = [UIFont systemFontOfSize:15];
    return cell;
}

#pragma mark tableView delegate
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    [tableView deselectRowAtIndexPath:indexPath animated:YES];
    if (indexPath.section == TableSectionDeviceInfo) {
        [self selectCellAtOne:indexPath.row];
    }
    else if (indexPath.section == TableSectionHwOption) {
        [self selectCellAtTwo:indexPath.row];
    }
    else if (indexPath.section == TableSectionSetAndRead) {
        [self selectCellAtThree:indexPath.row];
    }
    else if (indexPath.section == TableSectionDataSync) {
        [self selectCellAtFour:indexPath.row];
    }
    else if (indexPath.section == TableSectionMessage) {
        [self selectCellAtFive:indexPath.row];
    }
    else if (indexPath.section == 5) {
        [self selectCellAtSix:indexPath.row];
    }
    else if (indexPath.section == 6){
        [self selectAtSeven:indexPath.row];
    }
    else if (indexPath.section == 7){
        [self selectAtEight:indexPath.row];
    }
    else if (indexPath.section == 8){
        [self selectAtNine:indexPath.row];
    }
    else if (indexPath.section == 9){
        [self selectAtTen:indexPath.row];
    }
    else if (indexPath.section == 10){
        [self selectAtEleven:indexPath.row];
    }
    else {
        [self selectAtNine:indexPath.row];
    }
}

- (void)selectCellAtOne:(NSInteger )row {
    switch (row) {
        case 0:
        {
            DConfigViewController *dcVC = [[DConfigViewController alloc] init];
            [self.navigationController pushViewController:dcVC animated:YES];
        }
            break;
        case 1:
        {
            
        }
            break;
        case 2:
        {
            DNDViewController *dcVC = [[DNDViewController alloc] init];
            [self.navigationController pushViewController:dcVC animated:YES];
            
        }
            break;
        case 3:
        {
            StartSetViewController *ssVC = [[StartSetViewController alloc] init];
            [self.navigationController pushViewController:ssVC animated:YES];
        }
            break;
        case 4:
        {
            
        }
            break;
        case 5:
        { // 固件升级
        /** Here only supports Nordic's DFU upgrade, P1 watches are not listed here, want to solve more upgrade related issues, please see https://github.com/xuezou/DFUAssistant */
            DFUViewController *dfuVC = [[DFUViewController alloc] init];
            [self.navigationController pushViewController:dfuVC animated:YES];
        }
            break;
        default:
            break;
    }
}

- (void)selectCellAtTwo:(NSInteger )row {
    switch (row) {
        case 0:
        {
            [[BLEShareInstance shareInstance].bleSolstice readUserInfo];
            HWOptionController *vc = [[HWOptionController alloc]init];
            vc.title = @"Beacelet Option";
            [self.navigationController pushViewController:vc animated:YES];
        }
            break;
        case 1:
        {
            ClockViewController *vc = [[ClockViewController alloc]init];
            [self.navigationController pushViewController:vc animated:YES];
        }
            break;
        case 2:
        {
            CHOptionController *vc = [[CHOptionController alloc]init];
            vc.title = @"Custom Option";
            [self.navigationController pushViewController:vc animated:YES];
        }
            break;
        case 3:
        {
            SedentaryViewController *sVC = [[SedentaryViewController alloc] init];
            [self.navigationController pushViewController:sVC animated:YES];
        }
        default:
            break;
    }
    
}

- (void)selectCellAtThree:(NSInteger )row {
    switch (row) {
        case 0:
        {
            [[BLEShareInstance shareInstance].bleSolstice syscTime:[NSDate date]];
        }
            break;
        case 1:
        {
            MoreViewController *dcVC = [[MoreViewController alloc] init];
            [self.navigationController pushViewController:dcVC animated:YES];
        }
            break;
        case 2:
        {
            WeatherViewController *wVC = [[WeatherViewController alloc] init];
            [self.navigationController pushViewController:wVC animated:YES];
        }
            break;
        case 3:
        {
            ZRTargetOnceDay *target = [[ZRTargetOnceDay alloc] init];
            target.stepOnceDay = 8000;
            target.calorieOnceDay = 100;
            [[BLEShareInstance shareInstance].bleSolstice setTargetOnceDay:target];
        }
            break;
        case 4:
        {
            [[BLEShareInstance shareInstance].bleSolstice setMotors:[ZRMotor defaultMotors]];
        }
            break;
        default:
            break;
    }
}

- (void)selectCellAtFour:(NSInteger )row {
    switch (row) {
        case 0:
        {
            [[BLEShareInstance shareInstance].bleSolstice startSpecialData:SD_TYPE_DATA_SUMMARY];
        }
            break;
        case 1:
        {
            DataViewController *dcVC = [[DataViewController alloc] init];
            [self.navigationController pushViewController:dcVC animated:YES];
        }
            break;
        case 2:
        {
            SleepViewController *sVC = [[SleepViewController alloc] init];
            [self.navigationController pushViewController:sVC animated:YES];
        }
            break;
        case 3:
        {
            SportsViewController *sVC = [[SportsViewController alloc] init];
            [self.navigationController pushViewController:sVC animated:YES];
        }
            break;
        default:
            break;
    }
}

- (void)selectCellAtFive:(NSInteger )row {
    switch (row) {
        case 0:
        {
            [[BLEShareInstance shareInstance].bleSolstice pushStr:@"Zeroner by right"];
        }
            break;
        case 1:
        {
            BlackListViewController *blVC = [[BlackListViewController alloc] init];
            [self.navigationController pushViewController:blVC animated:YES];
        }
            break;
        case 2:
        {
            BlackListForColorViewController *blVC = [[BlackListForColorViewController alloc] init];
            [self.navigationController pushViewController:blVC animated:YES];
        }
            break;
        default:
            break;
    }
}


//ECG
- (void)selectCellAtSix:(NSInteger)row {
    NSString *ecgAtring = @"[582757,582759,583155,583460,583528,583989,584085,584491,583874,583534,583224,582953,583138,582787,583014,583041,583049,583321,583076,583202,583132,583314,583187,583421,583411,583178,583294,583457,583414,583411,583683,583554,583703,583661,583534,583702,583579,583735,583600,583841,584038,583797,583943,583821,583908,583864,584022,584105,584058,584133,584146,584251,584216,584271,584372,584152,584402,584308,584240,584380,584390,584316,584666,584689,584389,584418,584460,584483,584723,584634,584568,584168,584283,584168,584294,584292,584408,584560,584096,584443,584275,584496,584328,584286,584534,584223,584586,584169,584583,584283,584388,584685,584633,584513,584571,584613,584508,584811,584407,584674,584683,584503,584601,584669,584732,584814,584826,585137,584638,584989,584884,585011,584895,584843,584816,584995,584863,584931,585090,585052,584981,584818,585162,585215,585031,585131,584971,585299,585266,585262,585272,585002,585283,585200,585497,585241,585342,585310,585163,585387,585362,585486,585403,585509,585489,585429,585473,585358,585376,585448,585604,585616,585651,585679,585440,585669,585601,585703,585681,585606,585825,585546,585575,585690,585984,585698,585723,585884,585564,585852,585902,585894,585855,586018,585958,585822,586047,586017,586147,586032,585895,585988,585962,586215,585807,586293,586078,586143,586117,586339,586162,586092,586298,586179,586238,586297,586349,586144,585959,586380,586048,586216,586176,586567,586199,586270,586319,586241,586538,586686,587323,587327,587391,587884,587193,587040,586531,586387,586312,586309,586348,586141,586654,586497,586715,586651,586691,586678,586655,586770,586834,586731,586680,586971,586848,586671,586960,586816,586954,587015,586942,586814,586978,587110,586987,587279,587153,587337,586995,587248,587160,587198,587490,587484,587506,587457,587575,587742,587539,587706,587603,587800,587623,587773,587519,587611,587719,587636,587895,587822,587921,587782,587728,587752,587772,587842,587716,587891,587600,587761,587738,587570,587796,587486,587599,587668,587591,587923,587615,587707,587534,587513,587658,587906,587815,587600,587831,587507,587621,587794,587807,587760,587797,587868,587675,587784,587869,588045,587952,588080,588049,587921,588186,588098,588224,587935,588203,588192,587930,588211,588095,588030,588122,588356,588143,588198,588274,588199,588257,588309,588177,588332,588361,588444,588013,588380,588349,588378,588429,588537,588431,588566,588471,588518,588624,588437,588752,588620,588400,588552,588458,588616,588566,588696,588641,588479,588798,588780,588764,588663,588491,588738,588930,588881,588737,589016,588818,589000,588840,588872,589313,588745,589036,588871,589034,589097,589193,588952,589088,589096,588950,589096,589118,589247,589203,588895,589145,588925,589211,588863,589264,589358,589335,589288,589081,589213,589232,589399,589223,589336,589386,589315,589922,589898,590314,590305,590849,590651,589873,589813,589446,589316,589123,589444,589303,589526,589756,589531,589643,589516,589789,589510,589752,590031,589726,590132,589762,589904,589912,589967,590031,590031,590112,589838,589972,590011,590161,590059,590224,590187,590299,590030,590152,590333,590364,590385,590558,590409,590329,590582,590698,590709,590646,590962,590630,590911,590835,590880,590747,591069,590914,590708,590918,590907,590999,590967,591037,590876,590759,590957,590792,590840,590633,590644,590876,590766,590570,590669,590715,590651,590808,590609,590693,590929,590600,590786,590789,590889,590712,590749,590695,590648,590797,590879,591045,590748,591082,590747,590998,591023,590969,591150,591022,591092,590928,590970,591290,591195,591157,591119,591252,590986,591192,591280,591061,591153,591192,591234,591035,591267,591237,591130,591370,591383,591340,591282,591538,591457,591420,591449,591340,591486,591291,591378,591500,591574,591710,591378,591440,591522,591564,591468,591551,591543,591477,591710,591518,591651,591647,591757,591716,591497,591625,591573,591638,591688,591820,591708,591654,591915,591707,591623,591708,591857,591861,591874,591930,591929,592037,591829,592109,592011,591711,592099,591874,591899,591967,591916,591855,592091,591979,591700,592124,591820,592001,592094,592128,591995,591875,592071,591854,592166,592023,592092,591936,592195,592291,592509,592861,593063,593122,593389,593141,592567,592232,592302,592018,592042,591875,592177,592367,592023,592217,592292,592511,592305,592387,592307,592321,592529,592263,592367,592315,592453,592479,592402,592480,592336,592727,592363,592713,592542,592762,592783,592608,592641,592638,592807,592614,592751,592869,592673,592885,592661,592976,592878,592861,592934,592917,593030,592943,593065,592912,593083,593292,593252,593255,592926,593129,593045,593054,592452,593060,593169,592664,592735,592768,593000,592830,592760,592907,592470,592806,592602,592793,592635,592756,592709,592598,592787,592535,592486,592611,592777,592832,592650,592888,592588,592817,592609,592798,592652,592648,592795,592619,592883,592767,592730,592731,592855,592888,592575,592796,592815,592939,592643,592845,592896,592697,592755,592785,592982,592742,592838,592789,592700,593127,592677,592847,592775,592879,592417,592950,592904,592875,592910,592932,592901,592869,592992,593123,592834,592936,592862,592910,592960,592896,593010,592849,593135,592944,593073,592920,593014,593015,592961,593044,592991,593182,593073,593128,592987,593094,593214,593097,593081,593141,593045,593101,593116,593176,592737,593131,593101,593035,593074,593017,593363,592998,593227,593036,593102,593208,593128,593081,592896,593255,592971,593005,592863,593222,593423,593798,593918,594225,594571,594004,593689,592969,592779,593025,592754,592979,592960,593123,593236,593325,593431,592797,593323,593249,593365,593158,593413,593273,593120,593396,593258,593460,593282,593320,593365,593459,593459,593311,593655,593380,593529,593296,593562,593677,593480,593617,593539,593521,593818,593561,593622,593514,593735,593577,593804,593703,593935,593863,593712,594104,593815,593839,593877,593941,593857,593833,594070,593799,593891,593762,593838,593776,593867,593754,593590,593685,593454,593660,593512,593657,593678,593747,593366,593493,593474,593597,593604,593604,593340,593521,593593,593547,593505,593548,593358,593434,593605,593532,593518,593471,593661,593344,593662,593811,593273,593643,593491,593792,593628,593601,593640,593389,593497,593527,593674,593626,593586,593660,593469,593818,593824,593925,593651,593554,593539,593764,593874,593597,593913,593802,593836,593758,593871,593969,593568,593841,593397,593770,593742,593750,593701,593576,593837,593662,593663,593667,593737,593784,593790,593850,593832,593845,593703,593842,593788,593832,594043,593911,594011,593854,594033,594035,594201,594131,594038,594152,594172,594088,594039,594205,594198,594107,594003,594015,594362,594236,594227,594141,594138,594029,594310,594355,594174,594401,594333,594495,594594,594686,595213,595500,595740,595858,595494,595148,594536,594341,594358,594459,594374,594585,594503,594533,594856,594638,594883,594821,594835,594904,594687,595122,594868,594902,594913,594960,594661,595016,595122,594958,595018,595062,595260,595239,595232,595161,595477,595219,595260,595497,595375,595322,595497,595097,595567,595480,595774,595688,595718,595843,595689,595849,595816,595848,595827,595867,595847,595867,596066,595616,595844,595962,595936,596081,595860,596021,595547,596040,595822,595909,595762,595895,595823,595503,595652,595693,595825,595722,595842,595653,595602,595811,595831,595871,595749,595970,595880,595716,595729,595943,595994,595828,596075,596002,596102,595972,595896,596103,596084,596248,596197,596123,596148,595993,596107,596028,596336,596187,596297,596224,596092,596184,596084,596284,596238,596092,596220,596117,596465,596148,596490,596372,596434,596363,596505,596424,596304,596497,596300,596620,596458,596636,596610,596286,596691,596428,596532,596382,596674,596585,596185,596616,596453,596585,596513,596452,596687,596487,596720,596700,596616,596714,596754,596721,596910,596738,596556,596972,596680,596926,596756,596904,596949,596665,596919,596637,596963,596880,596859,596889,596724,596795,596814,596988,596834,596905,596801,596820,597164,596955,597017,596940,596942,597001,597207,597308,597575,597979,598035,598521,598172,597793,597500,596903,597239,596885,597064,596955,597315,597243,597205,597399,597210,597314,597348,597447,597413,597131,597580,597296,597521,597558,597384,597463,597525,597627,597626,597556,597492,597668,597481,597863,597690,597675,597587,597735,597952,597786,597927,597936,597686,597940,597814,598086,598007,598028,597838,597929,598140,598140,598193,598247,598120,598023,598229,598234,598116,598179,598099,597982,598009,598228,598135,597860,598031,597784,597968,597786,597740,597835,597673,597757,597663,597983,597809,597655,597920,597684,597837,597705,597863,597924,597841,597657,597701,597792,597674,597727,597941,598025,597498,597860,597901,597855,598076,597953,597930,597908,597849,597959,597700,597993,597869,597984,597536,597688,597854,597692,597693,597842,597869,597796,597943,597860,597880,598109,597668,597794,597824,597906,597947,597879,597975,597659,597774,597849,597802,597955,597998,597996,597700,597973,597729,598038,597984,598125,597929,597772,598047,597810,598058,597933,598041,597914,597871,598081,597992,597953,597842,598109,597969,597957,597962,598049,598014,597899,597969,597903,597806,597981,597871,598088,597981,597939,597925,597722,597887,597717,598029,597721,597953,597717,598008,597783,597723,597815,597845,598038,597920,598195,598414,598668,598885,599004,599290,598586,598139,597729,597762,597739,597343,597819,597684,597897,597891,597967,597990,597715,597820,597765,597993,597721,597999,597681,597792,597941,597744,597894,597871,597933,597885,598026,598014,597764,597957,597901,598081,597924,598023,598099,597899,598076,597963,598234,598087,597991,598201,598029,598228,598008,598274,598147,598149,598323,598155,598508,598137,598283,598163,598273,598425,598376,598424,598026,598255,598002,598350,598008,598169,597878,597702,597836,597728,597771,597721,597840,597820,597720,597657,597639,597735,597680,597729,597497,597121,597327,597139,597494,597341,597459,597309,597538,597423,597122,597304,597365,597434,597535,597513,597536,597515,597262,597298,597511,597196,597420,597271,597404,597412,597229,597483,597311,597492,597350,597518,597487,597368,597572,597720,597458,597200,597529,597643,597222,597530,597365,597591,597377,597455,597470,597077,597575,597241,597387,597383,597427,597533,597315,597327,597344,597490,597237,597484,597341,597524,597369,597444,597580,597329,597470,597336,597542,597633,597353,597480,597310,597493,597309,597539,597454,597198,597367,597270,597487,597262,597272,597283,597254,597439,597232,597338,597289,597230,597343,597338,597436,597258,597231,597357,597228,597288,597526,597619,597877,598049,598307,598754,598530,597857,597620,597077,597224,597037,597106,597077,597193,597241,597110,597338,597196,597301,597255,597388,597316,597315,597500,597344,597403,597152,597576,597397,597438,597574,597208,597534,597400,597645,597498,597594,597615,597277,597527,597523,597775,597560,597542,597544,597467,597670,597470,597720,597666,597851,597667,597776,597904,597680,597825,597722,597830,597943,597663,597996,597819,597610,597737,597870,597579,597649,597695,597492,597603,597351,597453,597267,597415,597338,597401,597422,597201,597241,597186,597297,597289,597107,597216,597149,597383,597138,597222,597144,597145,597355,597186,597281,597057,597297,597361,597245,597338,597172,597233,596994,597328,597281,597212,597140,596965,597260,597134,597197,597260,597286,597164,597180,597372,597079,597223,597044,597141,597112,597378,597418,597254,597217,596983,597316,597040,597221,597273,597051,597168,597011,597443,597153,597202,597339,596937,597140,597230,597319,597223,597293,597281,597164,597251,597122,597194,597195,597285,597231,597155,597220,597166,597489,597302,597423,597375,597315,597373,597234,597290,597124,597290,597256,597315,596997,597057,597260,597069,597117,597233,597331,597174,597174,597338,597167,597328,597271,597136,596947,597224,597152,597162,597665,597980,598095,598080,598734,598469,597889,597441,596950,597182,597058,597133,597193,597002,597427,597021,597243,597301,597262,597303,597321,597333,597369,597487,597436,597493,597387,597422,597501,597351,597601,597310,597385,597197,597655,597478,597329,597724,597478,597581,597488,597291,597562,597529,597591,597720,597957,597534,597883,597724,597763,597826,597854,597801,597891,597928,597854,597961,597895,597743,597992,597819,597988,597758,597916,597907,597555,597788,597564,597859,597579,597492,597625,597039,597568,597358,597559,597355,597484,597353,597328,597578,597350,597460,597614,597544,597460,597514,597433,597211,597607,597239,597517,597410,597544,597422,597154,597205,597542,597515,597499,597295,597293,597248,597646,597315,597447,597397,597333,597482,597410,597502,597391,597436,597398,597455,597339,597644,597470,597425,597538,597077,597538,597404,597650,597500,597385,597560,597245,597612,597370,597521,597710,597464,597578,597387,597452,597571,597483,597583,597532,597641,597524,597504,597583,597645,597450,597473,597665,597714,597569,597452,597645,597585,597574,597554,597418,597887,597643,597693,597784,597546,597521,597621,597640,597447,597732,597403,597528,597752,597317,597706,597460,597550,597565,597583,597567,597723,597577,597523,597460,597445,597811,597511,597738,598068,597959,598509,598669,599121,598700,598198,597916,597329,597536,597277,597241,597479,597590,597767,597494,597788,597531,597680,597774,597822,597791,597644,597781,597551,597639,597707,597836,597714,597693,597819,597788,597729,597678,597923,597802,597865,597784,597729,597901,597844,597956,597822,598056,598027,597838,598021,597765,598143,598269,598145,598146,598247,598351,598088,598202,598113,598301,598195,598247,598145,597993,598295,598127,598285,597989,598095,597883,597782,598109,597735,598008,597782,597790,597790,597735,597609,597525,597698,597660,597769,597771,597674,597710,597550,597734,597464,597769,597661,597752,597645,597396,597637,597548,597634,597775,597540,597488,597395,597597,597511,597686,597544,597509,597709,597469,597679,597512,597666,597685,597826,597679,597724,597518,597490,597674,597548,597679,597672,597614,597764,597608,597574,597542,597760,597702,597636,597665,597537,597658,597605,597621,597698,597681,597853,597525,597748,597524,597760,597601,597844,597579,597734,597663,597650,597739,597708,597796,597566,597892,597796,597541,597895,597716,597828,597722,597662,597806,597535,597817,597698,598014,597999,598004,597815,597889,597856,597558,597865,597877,597938,597998,597805,597727,597679,597802,597749,597825,597776,597925,597925,597840,597913,597865,597971,597770,597680,598102,597950,598523,598574,598959,599143,599362,598868,598115,598148,597772,597694,597736,597651,597929,598044,598225,597796,597880,597984,598145,598022,598157,598157,597889,598034,598024,598367,598194,598035,598050,598021,598421,598328,598479,598138,598338,598396,598229,598613,598335,598479,598428,598499,598412,598557,598740,598486,598643,598677,598871,598668,598763,598884,598609,598718,598854,598992,598656,598887,598936,598721,598740,598592,598993,598716,598739,598895,598575,598618,598729,598676,598682,598301,598538,598413,598622,598432,598581,598523,598763,598250,598492,598609,598255,598462,598374,598647,598426,598409,598518,598321,598327,598414,598710,598427,598710,598528,598399,598637,598491,598531,598399,598609,598380,598569,598586,598523,598754,598405,598648,598523,598682,598784,598496,598699,598656,598647,598660,598692,598692,598480,598758,598670,598802,598448,598775,598873,598526,598843,598742,598723,598628,598726,598672,598771,598787,598513,598932,598748,598919,598760,598782,598775,598868,598924,598514,598921,598619,598780,598584,598712,598900,598923,598984,598823,598850,598838,598786,598994,598769,598950,598794,598944,598677,598942,598651,598524,598934,598765,598957,598704,598702,598826,598751,598687,598867,598929,598782,598854,598843,598676,598818,598682,598934,598990,599553,599827,599744,600223,599507,599072,598946,598681,598589,598506,598650,598552,598601,598694,598881,598783,598899,598688,598716,598749,598832,599028,598818,598744,598872,598724,598986,598742,599057,599016,598892,598907,598842,598901,598838,598799,599043,599016,598979,598877,599020,598881,599029,599083,599088,599244,599166,599346,598950,599243,599079,599207,599262,599220,599316,599316,599200,599263,599196,599354,599082,599415,599197,598992,599009,599020,599083,599013,599111,598923,598707,598820,598858,598654,598846,598543,598537,598621,598682,598768,598735,598607,598567,598504,598379,598738,598440,598762,598869,598564,598668,598437,598843,598662,598586,598590,598523,598710,598727,598714,598501,598454,598714,598508,598780,598674,598733,598539,598508,598618,598440,598702,598405,598730,598578,598777,598471,598718,598698,598513,598811,598440,598597,598576,598668,598714,598335,598517,598467,598597,598677,598436,598664,598336,598690,598500,598872,598510,598668,598530,598469,598523,598516,598569,598417,598687,598608,598380,598717,598321,598540,598556,598635,598506,598579,598614,598370,598287,598431,598425,598499,598455,598383,598123,598595,598167,598296,598465,598394,598533,598082,598391,598174,598578,598091,598500,598812,598748,598994,599383,599643,599697,599128,598487,598317,598251,598026,598073,598160,598502,598239,598570,598367,598222,598468,598455,598345,598376,598489,598505,598243,598285,598187,598372,598140,598312,598251,598214,598419,598508,598415,598309,598458,598375,598471,598535,598392,598517,598541,598764,598547,598674,598673,598367,598635,598658,598932,598567,598728,598487,598389,598811,598631,598755,598678,598875,598955,598551,598702,598536,598490,598430,598455,598478,598366,598401,598315,598279,598305,598406,598206,598283,598243,598004,598243,598123,598283,597967,598088,598074,597981,598008,597848,598027,597850,598123,598100,597753,598067,597879,598230,597838,598151,598106,597884,598074,598015,598087,597878,598120,597957,598124,598010,598124,598120,597989,597916,598002,598023,598098,597876,598164,597934,597969,597859,597993,598173,597801,598096,597862,598046,597965,597918,598001,597994,597951,597822,597994,597929,597983,598012,598052,598054,597800,597967,597887,597977,597973,597895,597967,597744,597919,597883,597840,597813,598092,598015,597753,597808,598002,597929,597895,597910,597877,597631,598016,597747,597796,597714,597903,597832,597890,597912,597696,597838,597738,597975,597755,597835,597744,597741,597718,597696,597744,597832,598094,598568,598277,599091,598947,599165,598603,598236,597696,597568,597603,597398,597658,597700,597937,597948,597897,597930,597648,597912,597684,597892,597947,597759,597848,597583,597889,597834,597894,597847,598107,598180,597752,597990,597895,597920,598220,597984,598050,597969,598103,597970,598052,598145,598074,598124,598044,598193,597966,598321,598223,598368,598401,598243,598235,598070,598448,598299,598506,598312,598283,598277,598099,598349,598430,598206,598112,598247,598217,597958,598059,597832,597989,597787,597992,597704,597736,597901,597735,597840,597915,597705,597876,597865,597790,597540,597901,597679,597769,597468,597632,597844,597744,597756,597727,597801,597710,597723,597744,597531,597835,597557,597780,597722,597848,597738,597595,597908,597741,597850,597787,597743,597510,597591,598038,597600,597770,597712,597750,597641,597842,597946,597581,597721,597687,597797,597695,597850,597874,597506,597637,597485,597722,597585,597842,597430,597673,597641,597681,597657,597774,597854,597739,597637,597901,597619,597826,597512,597712,597786,597801,597943,597531,597933,597628,598026,597671,597623,597794,597659,597801,597580,597679,597715,597817,597461,597811,597835,597561,597865,597567,597628,597577,597614,597706,597495,597660,597734,597930,597835,598224,598451,598424,598807,599019,598682,598145,597834,597591,597382,597649,597312,597572,597410,597868,597849,597856,598024,597624,597850,597579,597973,597909,597837,597957,597942,597856,597869,597804,597764,597701,598193,597937,598041,598105,598027,597883,598169,598086,597910,597981,598017,598210,597967,598214,598074,598151,598364,598022,598117,598292,598529,598280,598347,598372,598154,598477,598358,598370,598332,598467,598434,598269,598156,598179,598024,598058,598102,598389,597950,597954,597870,597814,598049,598099,598045,597789,597644,597732,597561,597905,597895,597682,597946,597960,597610,597830,597605,597729,597580,597836,598002,597800,597871,597798,597885,597708,597756,597721,597613,597828,597735,597939,597805,597759,598011,597676,597889,597447,597729,597830,597931,597780,597810,597807,597813,597857,597858,597922,597831,597830,597820,597634,597783,597805,597747,597674,597908,597828,597697,597817,597664,597859,597584,597907,597681,597766,597943,597545,597916,597782,597811,597996,597855,598183,597601,597903,597826,597682,597722,598016,598017,597987,597933,597732,597818,597769,597752,597880,597489,597761,597679,597943,597785,597812,597876,597591,597940,597542,597914,597963,597812,597552,598010,598151,598238,598625,598775,599288,599161,598675,598099,597824,597717,597704,597631,597467,597896,597777,597638,597912,597795,598042,597955,597908,597863,597816,597988,597819,598058,597966,598016,597944,597861,598090,597894,597889,598013,597972,598066,597986,598205,597941,598218,597974,598141,598189,598148,598362,598003,598178,598094,598477,598240,598381,598196,598354,598597,598344,598368,598402,598318,598287,598485,598618,598292,598472,598303,598370,598493,598223,598356,598010,598185,598132,598111,597987,598102,598070,597594,598025,597831,598043,597960,597759,597965,597847,598136,597826,598110,597798,597885,597958,597936,597901,598027,597964,597831,597835,597774,597884,597928,597844,598034,597924,598014,597808,597864,598208,597624,597987,597932,598084,597708,598010,597848,597895,598116,597951,598060,597877,597961,597934,598207,598007,597800,598145,597896,598041,598124,598285,597949,597800,597940,597935,598085,598183,598135,598056,597836,598086,598080,598329,598130,598112,598164,597891,598171,598129,598261,598020,598214,598199,598191,598288,598094,598140,598071,598169,597949,598120,598230,597864,598096,597871,598260,598228,598282,598276,598189,598294,598189,598272,597998,598164,598051,597906,598200,598149,598517,598748,599071,599290,599454,599677,598978,598584,598198,598147,598082,598151,598257,597967,598302,597905,598391,598303,598463,598328,598266,598250,598258,598545,598475,598144,598410,598163,598269,598317,598337,598469,598387,598497,598621,598610,598402,598469,598456,598448,598522,598757,598640,598464,598814,598508,598716,598642,598711,598927,598695,598951,598866,599057,598930,598879,598850,598929,598989,599028,598814,598751,598978,598819,598957,598826,598768,598800,598702,598832,598747,598624,598508,598262,598514,598457,598350,598427,598457,598580,598348,598445,598399,598534,598281,598615,598466,598249,598611,598095,598364,598420,598496,598426,598489,598410,598395,598380,598469,598136,598290,598449,598601,598251,598539,598401,598640,598237,598593,598285,598275,598428,598480,598549,598387,598557,598487,598455,598775,598373,598493,598502,598606,598281,598531,598712,598398,598475,598483,598560,598501,598371,598477,598379,598380,598508,598495,598332,598469,598530,598295,598474,598353,598646,598440,598656,598328,598581,598804,598436,598564,598436,598622,598422,598591,598566,598552,598609,598690,598547,598400,598660,598564,598299,598588,598405,598731,598545,598494,598445,598341,598491,598562,598575,598612,598680,598551,598561,598471,598569,598601,598789,599485,599411,599906,600161,599480,599285,598727,598565,598239,598502,598460,598380,598484,598571,598635,598698,598710,598739,598557,598775,598621,598621,598624,598824,598695,598808,598744,598698,598842,598848,599034,598955,598893,599085,598633,599047,598925,598613,598801,599057,599230,598914,599111,598984,599174,599189,599194,599233,599175,599343,599332,599357,599232,599335,599335,599337,599445,599320,599350,599321,599256,599261,599183,599259,599240,599284,598916,599149,599316,599296,599072,598775,599068,598725,598973,598902,599000,598952,598643,598824,598673,598790,598932,599007,598638,598685,598956,598759,598883,598786,598918,598722,598954,598924,598817,598738,598946,598858,598841,598808,598911,598612,599160,598890,599093,598877,598950,598739,598805,599085,598781,598980,598730,599032,598915,598892,599049,598950,599091,598638,599032,598858,599058,599070,598896,598980,598858,598809,599100,598944,599129,598833,598932,598883,599086,598784,598985,599012,598837,599111,598881,598912,599002,599064,598870,598894,599033,598880,599146,599050,598938,599017,598921,599103,598785,599147,599046,598996,598547,599007,598942,598774,598950,598789,598824,599043,598998,598975,598895,598993,598777,598820,598799,598974,598739,598893,599224,599250,599651,599830,600242,600067,599804,599475,598882,598786,598630,598778,598644,598895,598788,598660,599256,599103,598975,598929,598990,599123,598829,599100,598867,599269,598932,599051,599206,598847,598989,599121,598869,599016,599221,599310,599191,599355,599083,599265,598981,599135,599000,599228,599158,599076,599314,599229,599329,598998,599372,599460,599144,599457,599334,599525,599468,599434,599421,599058,599379,599135,599353,599209,599340,599227,599316,599264,598992,599057,598881,599021,598825,599008,598924,598611,598748,598754,598938,598802,598765,598845,598621,598668,598588,598558,598626,598720,598691,598533,598759,598570,598687,598424,598769,598608,598558,598762,598564,598616,598477,598577,598372,598877,599284,599376,600113,600361,600449,599529,599068,598633,598540,598191,597854,598000,597775,597892,597969,598107,598242,598633,598492,598368,598640,598546,598563,598656,598339,598586,598637,598609,598620,598573,598676,598314,598493,598619,598700,598828,598760,598837,598555,598642,598360,598854,598766,598788,598967,598748,598931,598519,598581,598709,598723,598669,598788,598806,598597,598861,598452,598829,598438,598786,598883,598547,598669,598381,598618,598514,598538,598543,598263,598263,598362,598322,598135,598366,598189,598177,598155,598105,598008,598085,598185,598072,598087,598213,598229,598137,597827,598201,598097,598151,598272,597889,598136,598038,598206,598088,598095,597987,597847,598229,598159,597845,598029,598044,597992,597961,598052,597867,597862,597908,598021,597901,598154,597922,597700,597907,597884,598062,597778,597968,597987,597795,597992,597593,597888,597928,597982,598036,597828,597925,597832,598086,597879,598017,598013,597798,598003,597872,597770,597809,597920,597913,597940,597959,597618,597960,597808,597823,597830,597923,597934,597930,597920,597824,598004,597805,597920,598090,597717,597748,597822,597912,597742,597845,597934,597685,598032,597814,597909,597774,597918,597814,597961,597975,597708,597816,597706,597762,597727,597976,597720,597837,597964,597872,598018,597892,597978,597995,597644,597947,597850,597922,597791,597907,597782,597780,597956,597525,597587,597697,597963,597770,597826,597854,597667,598122,597805,597915,597673,597951,597937,597647,597861,597753,598162,597840,597999,597923,597652,598064,597798,597924,597830,597722,597850,597616,598014,597720,597688,597768,597570,597818,598122,597885,597853,597732,597781,597736,597575,598052,598064,598260,598647,598765,599119,599022,598542,598162,597555,597711,597554,597648,597776,597631,597727,597724,597949,597807,597832,597860,597895,597891,597907,597793,597847,597789,597832,598002,597792,598015,597877,597727,598040,597953,597920,597896,598004,598022,597802,598059,597981,598195,597961,597944,598142,597764,598130,598173,598066,597912,598280,598008,598220,598242,598220,598228,598238,598138,598095,598207,598214,598135,598145,598089,598290,598169,598216,598327,597887,598071,597891,598136,598002,598138,598081,597942,598089,597802,597901,597765,598056,597921,597810,598035,597682,597683,597718,597794,597802,597922,597973,597501,597835,597975,597680,597807,597957,597825,597574,597905,597744,597827,597649,597818,597791,597596,597787,597851,597643,597526,597774,597805,598024,598047,597629,597722,597687,597501,597610,597848,597778,597585,597621,597569,597789,597513,597876,597860,597609,597817,597500,597765,597478,597546,597811,597762,597987,597519,597658,597669,597762,597768,597784,597811,597574,597844,597631,597931,597680,597749,597834,597607,597760,597734,597733,597568,597655,597842,597579,597692,597556,597664,597370,597767,597550,597531,597589,597483,597582,597762,597640,597546,597483,597796,597854,598453,598169,598774,598936,598935,598370,597978,597552,597435,597394,597338,597526,597854,597538,597984,597655,597756,597733,597838,597890,597944,597790,597564,597888,597782,597928,597880,597848,597828,597575,597891,598005,597908,597939,597932,597957,597707,598089,597868,597945,597883,598064,597991,597888,598218,598009,597898,598257,598312,598203,598362,598327,598082,598279,598341,598425,598163,598308,598265,598157,598274,598309,598028,597848,598098,598275,597941,598130,597912,598185,597895,597890,598043,597513,597783,597715,597782,597488,597716,597789,597698,597847,597699,597760,597739,597699,597607,597770,597844,597565,597803,597784,597662,597541,597934,597848,597439,597687,597667,597814,597660,597783,597693,597589,597908,597475,597771,597683,597484,597895,597694,597854,597490,597859,597734,597944,597745,597793,597953,597550,597646,597627,597744,597531,597777,597851,597511,597859,597720,597893,597657,597997,597722,597618,597906,597518,597893,597769,597701,597610,597936,597804,597553,597838,597493,597848,597589,597800,597967,597628,597754,597609,597782,597687,597702,597840,597260,598004,597565,597822,597592,598026,598307,598217,598775,598823,599243,598430,597960,597416,597472,597568,597492,597448,597564,597739,597575,597511,597912,597525,597749,597645,597788,597637,597648,597982,597724,597960,597678,597780,597765,597746,597809,597745,598058,597741,597856,597758,597912,597808,597828,597928,597871,597872,597997,598044,597921,597972,598152,597862,598231,597917,598187,598264,598156,598250,597976,598201,598116,598363,598341,598097,598015,597963,598228,598025,598122,598119,597973,597869,597919,597879,597648,597820,597897,597744,597601,597720,597385,597653,597634,597470,597655,597496,597536,597617,597655,597714,597554,597631,597602,597485,597627,597371,597518,597580,597784,597467,597624,597562,597400,597677,597412,597386,597441,597753,597548,597535,597341,597304,597528,597712,597798,597392,597538,597475,597797,597548,597628,597671,597162,597482,597518,597690,597591,597696,597459,597351,597680,597407,597422,597582,597661,597462,597200,597727,597618,597548,597570,597774,597654,597484,597436,597110,597481,597471,597484,597510,597422,597686,597514,597363,597466,597403,597464,597644,597620,597257,597620,597438,597502,597271,597720,597790,597896,598486,598243,598755,598737,598439,597579,597490,597532,597326,597275,597180,597381,597280,597692,597523,597332,597528,597338,597424,597441,597390,597747,597454,597464,597511,597618,597367,597518,597489,597240,597562,597478,597519,597583,597556,597582,597814,597575,597248,597614,597514,597758,597640,597660,597692,597483,597834,597756,597945,597751,597814,597920,597640,597942,597940,597789,597626,597853,597756,597676,597915,597720,597694,597601,597784,597567,597443,597566,597515,597500,597439,597290,597056,597317,597473,597266,597288,597242,597197,597060,597349,597234,597176,597118,597096,597321,597130,597052,597289,596931,597321,597101,597371,597044,597324,597231,596898,597048,596874,597339,597048,597409,597231,597084,597140,596827,597089,597047,597277,597083,597077,597133,597055,597232,597143,597060,597182,597243,597078,596905,597166,597032,597212,596964,597361,597219,596896,597200,597000,597027,597177,597367,597281,597064,597155,596971,597047,597140,597325,597068,597295,597332,596916,597155,597020,597167,597077,597024,597250,596829,597085,597064,597113,597029,596986,597140,596759,597059,596685,597006,596711,596877,596960,597303,597686,597890,597907,598213,598363,597871,597619,597407,596777,597021,596757,596864,596996,597035,597188,596967,597044,596910,597086,596928,597051,597094,596840,597156,597042,596980,597038,597144,597255,597124,597260,597086,597267,597192,597296,597151,597335,597357,597128,597164,597441,597478,597277,597277,597379,597226,597685,597519,597629,597596,597538,597732,597410,597413,597633,597545,597560,597741,597583,597486,597615,597465,597508,597272,597591,597531,597493,597488,597182,597248,596838,597281,597104,597250,597210,596928,597228,597038,597216,596843,597175,597194,596850,597093,596988,597196,596966,596891,597218,596835,597045,597034,596976,596901,597043,597032,596988,597064,596991,597079,596993,597201,596920,597089,597029,596993,597017,597124,597194,597110,597032,597063,596911,597010,596739,597009,597099,596914,597137,597019,597192,596881,597180,596887,597182,597174,597205,597228,596871,597123,597160,597144,597125,597312,597167,597185,597208,596952,597259,597124,597095,597309,596978,597127,597317,597435,597192,597206,597280,597214,597343,597164,597320,597204,597326,597158,597069,597302,597040,597309,597252,597307,597180,597351,596989,597116,597305,597285,597228,597411,597178,597310,597413,597594,597988,598483,598481,598664,598393,597643,597582,597074,597276,597122,597357,597223,597391,597492,597505,597270,597461,597633,597470,597555,597597,597456,597627,597593,597315,597692,597619,597836,597430,597704,597611,597698,597684,597811,597818,597492,597850,597687,597823,597639,597914,597917,597672,598056,597925,597909,597930,598088,598169,598092,598187,597951,598082,597983,598428,598183,598287,598437,598041,598160,597940,598305,598134,598298,598119,597897,598099,597899,597945,597904,598009,598110,597751,597790,597634,597992,597782,597577,597811,597873,597892,597829,597661,597874,597939,597623,597803,597868,597577,597881,597569,597929,597822,597966,597873,597523,597879,597562,598064,597848,597798,597901,597449,597858,597854,597797,597907,597959,597840,597758,597968,597789,597986,597735,597739,597722,597991,597754,597657,597815,597556,597958,597912,597857,597898,597614,597887,597807,598002,597735,597800,597884,597868,597877,597545,597853,597907,597828,597836,597573,597964,597716,597732,597780,597850,597882,597767,597770,597645,597791,597817,597925,597708,597844,597820,597906,597900,597520,597954,597545,597756,597772,597447,597786,597708,597849,597371,597648,597672,597254,597710,597563,597900,597501,597611,597704,597518,598003,598120,598225,598456,598874,599064,598544,598078,597579,597550,597376,597434,597389,597361,597464,597482,597624,597571,597718,597511,597446,597618,597591,597631,597620,597688,597424,597634,597639,597512,597810,597581,597531,597455,597729,597764,597631,597682,597517,597819,597569,597814,597727,597790,597714,597738,597968,597670,597903,598027,597850,597992,597757,597784,597756,597998,598062,597865,597963,597735,597920,597374,597916,597798,597639,597793,597583,597583,597542,597398,597370,597632,597468,597519,597369,597231,597417,597228,597472,597203,597196,597510,597223,597148,597089,597482,597118,597263,597268,596956,597231,597100,597182,596937,597146,597015,596820,597138,596755,597021,596736,597101,596837,597044,596925,596729,596868,596982,597052,596917,596892,596777,596775,596900,596765,596972,596902,596840,596957,596698,596610,596591,596656,596722,596892,596756,596461,596449,596608,596705,596669,596789,596501,596747,596647,596637,596632,596528,596734,596530,596619,596831,596560,596541,596651,596659,596641,596598,596706,596314,596538,596555,596705,596328,596625,596524,596448,596691,596533,596578,596603,596758,596776,596432,596621,596358,596690,596548,596640,596628,596711,596459,596152,596457,596501,596540,596427,596358,596455,596434,596578,596438,596532,596246,596427,596472,596252,596423,596171,596461,596278,596547,596641,596978,597196,597612,597690,597847,597400,596758,596496,596375,596157,596188,596218,596327,596455,596477,596643,596242,596340,596385,596639,596491,596367,596571,596153,596544,596555,596646,596374,596608,596433,596549,596628,596488,596557,596541,596681,596541,596571,596477,596541,596689,596461,596854,596635,596909,596631,596495,596892,596643,596753,596783,596837,597087,596685,596886,596733,597000,596785,596987,596857,596768,596860,596690,596812,596875,596844,596678,596584,596696,596333,596723,596485,596400,596191,596442,596574,595995,596345,596149,596181,596014,596185,596111,595963,595912,595939,595984,596006,596060,596190,595779,596040,596014,596077,595850,596051,596038,595954,596069,596054,595964,596121,596095,596171,595992,596085,595980,595919,595806,595995,595912,596117,596177,595849,596062,595772,596072,596115,595862,596083,595854,595942,596026,596052,595861,595966,596159,595650,596034,595638,596132,595894,596157,595881,595861,595940,595865,595827,595890,595993,596009,596135,596131,595821,595956,595811,596050,595954,595945,596006,595860,595892,595841,595848,595896,595798,596101,595718,595956,595816,596033,595894,595969,596042,595618,595818,595818,595801,595939,595815,595644,595894,595800,595841,595933,595774,596054,595924,596024,595968,595792,595811,595837,595880,595902,596087,596088,595829,595882,595855,596154,595836,596026,596029,595757,595937,595795,595872,595655,595840,595821,595722,595869,595832,595830,595663,595770,595629,595787,595719,595647,596201,596028,596501,596596,596862,597148,597118,596625,596182,595909,595610,595560,595727,595232,595599,595540,595952,595844,595778,595804,595600,595765,595746,595768,595853,596079,595793,595789,596072,595828,595765,595810,595929,595940,596151,596093,595799,596000,595780,596148,595932,596237,595992,595660,596033,596063,596231,596134,596073,596175,595958,596244,596103,596304,595982,596329,596201,596400,596452,596171,596229,596236,596249,596337,596236,596281,596044,596209,596134,596043,595845,596016,596140,595740,595925,595805,596017,595878,595716,595538,595629,595740,595586,595561,595529,595706,595647,595894,595721,595352,595680,595744,595773,595721,595584,595788,595580,595599,595491,595790,595616,595813,595645,595553,595687,595547,595890,595694,595792,595817,595439,595464,595679,595476,595559,595570,595523,595566,595771,595457,595728,595551,595604,595494,595559,595648,595519,595648,595448,595654,595638,595328,595592,595466,595571,595409,595591,595575,595456,595644,595480,595509,595451,595612,595415,595467,595527,595062,595549,595496,595509,595440,595529,595415,595559,595530,595358,595540,595362,595693,595497,595404,595675,595455,595550,595425,595385,595527,595576,595644,595300,595517,595529,595391,595465,595415,595597,595328,595516,595261,595318,595358,595281,595460,595396,595457,595178,595311,595311,595662,595892,596385,596443,596659,596694,596036,595848,595308,595170,595016,594609,595132,595122,595605,595421,595357,595319,595171,595430,595474,595584,595376,595417,595350,595341,595433,595251,595400,595353,595572,595596,595554,595580,595298,595495,595476,595602,595732,595608,595635,595311,595636,595478,595711,595736,595664,595924,595569,595928,595800,595882,595753,595879,595936,595751,595898,595759,595831,595847,595767,595758,595787,595861,595770,595827,595567,595747,595672,595568,595423,595489,595491,595356,595434,595240,595322,595570,595212,595444,595278,595298,595237,595423,595342,595243,595194,595322,595261,595236,595521,595351,595151,595380,595227,595425,595277,595327,595272,595707,596100,596254,596571,596883,596805,595936,595236,595258,594896,595022,594795,594721,594679,594849,594932,594900,595383,595316,595405,595474,595450,595469,595311,595677,595473,595587,595523,595469,595469,595644,595590,595376,595647,595618,595689,595810,595771,595880,595831,595724,595652,595864,595675,595897,596015,595909,596172,595858,595884,596028,596167,596051,595859,596346,595956,596124,596233,596078,596144,596279,596172,596179,596284,595838,595955,596063,596084,595991,595722,595801,595705,595964,595541,595872,595676,595644,595534,595584,595765,595720,595623,595689,595506,595629,595403,595634,595633,595786,595429,595596,595578,595442,595800,595722,595746,595525,595706,595784,595529,595910,595925,595773,595849,595913,595868,595590,595699,595694,596010,596132,596484,596697,596762,597204,597003,596541,595986,595670,595711,595732,595603,595691,595753,595673,595926,595983,595958,596057,595853,596016,595845,595958,595882,596084,596088,595696,596135,596034,596091,596315,596141,596161,595711,596109,596084,596188,596160,596034,596156,595982,596108,595929,596298,596164,596302,596448,596356,596434,596325,596318,596340,596574,596221,596438,596432,596170,596404,596162,596316,596201,596419,596429,596079,596339,595974,595988,596081,596061,596041,596120,596090,595831,596144,595849,596000,595849,595931,596022,595740,595858,595896,595932,595930,595964,596089,595900,595824,595933,595993,596060,596029,596078,595772,596110,595863,596016,596073,595970,595897,595864,595912,595803,595867,596011,596208,596097,595974,596105,595678,596015,595904,596255,595804,595967,596402,596076,596133,595909,596006,596161,596284,596117,595890,596114,595806,596110,596125,596160,595948,595916,596124,595731,596135,596017,596120,596004,596092,596167,595840,596107,595875,595658,596017,596326,596537,596467,596989,597107,597235,596684,596233,595896,595762,595909,595584,595603,595740,596010,596128,595980,595942,595878,596105,596154,596359,595957,596180,596207,595867,596172,596084,596252,595894,596059,596125,596110,596240,596097,596345,596087,596183,596131,596260,596429,595999,596383,596099,596182,596187,596361,596460,596403,596233,596360,596443,596200,596436,596632,596263,596395,596296,596411,596234,596596,596339,596331,596218,596198,596575,596152,596177,596238,596008,596242,596022,596108,595795,596121,595943,595754,595850,595751,595708,595600,596178,595900,596043,596030,595703,596028,595704,596012,595878,595944,595861,595606,596099,595632,595834,595763,595882,595908,595789,595837,595792,595723,595789,595950,595745,596020,595879,595716,595810,595964,595903,595642,595796,595948,595724,595918,595688,595951,595735,595863,596045,595470,595722,595860,595827,595901,595798,595734,595551,595964,595716,595873,595781,595909,595843,595736,595782,595712,595930,595728,595654,595801,595787,595724,595454,595760,595691,595811,595490,595843,595775,595501,595730,595773,595584,595635,595610,595736,595414,595610,595432,595742,596002,596314,596298,596415,596857,596999,596561,595978,595668,595498,595669,595687,595294,595646,595581,595749,595783,595682,595890,595477,595722,595736,595763,595595,595841,595827,595474,595776,595756,595721,595599,596025,595656,595575,595653,595640,595768,595643,596032,595820,595993,595848,595578,595635,596060,596071,596126,596008,596084,595573,596084,595872,596089,595958,595797,596040,595851,596164,596016,595936,595955,595969,595934,595948,596113,595593,595977,595677,595778,595653,595861,595770,595425,595688,595495,595697,595609,595572,595610,595249,595575,595416,595390,595539,595685,595539,595293,595469,595352,595364,595602,595515,595338,595409,595380,595296,595538,595425,595475,595495,595455,595472,595153,595509,595273,595590,595313,595359,595500,595075,595390,595572,595345,595333,595423,595264,595162,595417,595199,595407,595337,595517,595304,595278,595292,595339,595464,595217,595484,595174,595348,595564,595314,595566,595102,595494,595385,595361,595361,595236,595463,595450,595430,595436,595448,595442,595070,595228,595040,595323,595314,595433,595289,595243,595257,595012,595162,595330,595403,595189,595193,595288,594916,595177,595303,595567,595887,596077,596482,596246,596603,595950,595700,595227,595150,595131,594938,595001,594914,595088,595188,595413,595150,595234,595014,595170,595308,595140,595316,595175,595141,595355,595227,595305,595158,595274,595288,595386,595436,595128,595518,595207,595542,595368,595571,595508,595231,595550,595154,595563,595495,595511,595436,595598,595449,595531,595642,595676,595500,595311,595633,595517,595409,595452,595633,595535,595501,595533,595582,595431,595571,595356,595661,595355,595302,595316,595050,595358,594936,595111,595315,595049,594946,594805,595041,594925,595088,595063,595088,595025,594951,594982,594997,594811,595031,595093,594961,594992,595058,594791,594903,594937,594885,595027,594894,595140,594911,594856,595061,595030,594951,594845,594937,594727,594882,594964,594928,594807,594957,595040,594938,594921,594801,595014,594683,594880,595010,594764,595039,594840,594899,594924,594931,594858,594731,595016,594966,594969,594811,594864,594911,594977,595003,595046,594894,595036,594935,595014,594991,595080,594975,594912,594860,594970,594840,594830,594795,594870,594900,594979,594901,594850,594798,594828,594887,594742,594950,594643,595095,594575,594740,594853,595224,595362,595258,595920,595790,596280,595692,595198,594959,594709,594716,594521,594667,594714,594822,594746,594633,595050,594680,594810,594674,594727,594714,595002,594996,594704,594865,594605,594775,594774,594820,595110,594688,594817,594755,594723,594722,594790,594910,594809,594741,594800,594918,594923,594830,594998,594704,595088,594868,594981,595096,595095,595038,595076,595053,594973,595018,595051,595258,594952,595074,595183,594814,595082,594967,595130,594871,594907,594872,594739,594799,594624,594915,594734,594641,594682,594383,594450,594393,594450,594318,594595,594656,594356,594684,594422,594487,594417,594675,594349,594621,594563,594410,594577,594470,594413,594379,594695,594661,594223,594333,594271,594472,594217,594498,594476,594148,594488,594267,594609,594228,594441,594486,594298,594529,594268,594484,594308,594550,594517,594337,594249,594187,594261,594370,594398,594425,594628,594615,594385,594597,594400,594609,594444,594389,594596,594303,594454,594348,594572,594414,594537,594243,594323,594563,594416,594497,594344,594418,594463,594259,594487,594096,594252,594300,594345,594344,594122,594364,594029,594099,594276,594324,594116,594027,594667,594718,595247,595174,595483,595703,595230,594782,594196,594183,594072,594018,593949,594094,594272,594214,594169,594042,594252,594311,594511,594371,594227,594376,594364,594498,594360,594390,594342,594355,594583,594177,594509,594365,594518,594457,594421,594479,594252,594633,594603,594520,594561,594583,594622,594528,594589,594431,594571,594553,594845,594770,594537,594795,594534,594754,594774,594881,594993,594693,594872,594424,594853,594737,594658,594602,594593,594615,594225,594350,594520,594555,594548,594219,594544,594257,594198,594099,594264,594195,594295,594475,594184,594396,594110,594089,594114,594350,594492,594261,594274,594135,594197,594347,594408,594195,594294,594311,594032,593874,594290,594220,594101,594323,594275,594064,594239,594069,594234,594252,594290,594363,594192,594305,594052,594386,594223,594452,594337,594212,594285,594219,594346,594092,594151,594092,594467,594429,594058,594505,594104,594335,594323,594129,594551,594183,594348,594239,594315,594269,594294,594409,594233,594494,594229,594458,594087,594182,594183,594221,594342,594003,594257,594323,594386,594298,594333,594332,594253,594092,594231,594438,594167,594285,594383,594449,594895,595102,595511,595664,595109,594878,594298,594316,593955,594285,594021,594154,594386,594128,594331,594435,594445,594285,594363,594358,594462,594445,594161,594407,594381,594675,594501,594347,594521,594352,594322,594388,594608,594445,594420,594615,594353,594556,594401,594704,594551,594612,594648,594551,594966,594617,594803,594638,594878,594826,594813,594951,594617,594742,594924,594995,594809,594895,594907,594788,594767,594759,594925,594825,594759,594698,594587,594656,594359,594588,594442,594270,594469,594341,594341,594285,594249,594424,594381,594254,594243,594529,594112,594279,594132,594302,594117,594304,594399,594266,594242,593849,594274,594253,594391,594358,594030,594346,594171,594234,594314,594320,594107,593896,594430,594293,594268,594136,594311,594259,594364,594388,594154,594129,594214,594414,594194,594416,594472,594108,594442,594038,594027,594249,594342,594204,593967,594087,594241,594291,594184,594309,594189,594060,594260,594068,594305,594230,594446,594167,594249,594235,594117,594236,594280,594344,594203,594257,594295,594081,593952,593950,594323,594182,594123,594171,593984,594135,594100,594062,594183,594232,594103,594003,594314,594058,594136,594168,594412,594745,594860,595255,595328,595222,594853,594418,594051,594047,593993,593770,594103,593909,594122,594255,594092,594110,594080,594036,594256,594267,594168,594364,594165,594009,594268,594182,594305,594297,594080,594202,594068,594377,594555,594442,594138,594423,594210,594257,594529,594255,594243,594314,594422,594324,594494,594734,594579,594567,594635,594692,594594,594621,594718,594511,594700,594444,594608,594360,594767,594779,594470,594595,594362,594552,594457,594424,594379,594013,594342,594287,594180,594155,594197,594125,594048,594155,593917,593995,594247,594303,594140,594046,594104,593818,594017,593842,594288,593925,594176,594089,593983,594043,593999,594216,593996,594036,594024,593919,594247,594048,593860,593753,593995,594049,594171,594162,593868,594056,594138,594061,593923,594022,594236,593980,594075,593894,594142,594101,594050,594104,593790,594156,593949,594006,593838,594118,594124,593927,594090,593987,594084,594035,594117,594041,594184,594182,593914,594047,594210,594188,594097,594153,594384,594026,594035,594122,594179,594131,594003,594146,594009,594023,594220,594177,593994,594198,594124,593791,594170,593823,594036,593871,594243,594248,593985,594143,593989,594150,594021,594076,594024,594194,594629,594687,595153,595258,595747,594839,594352,594122,593893,594046,593823,593979,593986,594044,594238,594021,594261,594225,594154,594058,594010,594423,594197,594339,594244,594231,594291,594379,594275,594321,594365,594282,594483,594260,594494,594382,594170,594621,594426,594450,594530,594540,594422,594812,594565,594321,594782,594668,594623,594542,594563,594864,594514,594698,594624,594680,594792,594815,594636,594849,594811,594555,594842,594712,594850,594510,594586,594647,594352,594568,594315,594368,594264,594534,594478,594112,594119,594194,594375,594023,594256,594273,594104,594179,594188,594132,594307,594288,594290,594251,594276,594061,594272,594098,594204,594204,594403,594324,594087,594224,594313,594435,594321,594356,594292,594045,594214,594249,594167,594106,594289,594156,594118,594358,594162,594253,594137,594148,594254,594106,594319,593969,594263,593924,594171,594023,594249,594359,594060,594248,594107,593965,594233,594188,594237,594129,594099,594148,594320,594183,594213,594339,594102,594245,594294,594192,594217,594142,594087,593865,594064,594094,594020,593885,594131,594011,593987,594269,593988,594213,593927,593935,593889,593825,593863,594147,594396,594712,594747,594930,595475,594856,594454,594099,593887,593762,593507,593727,593784,593605,593937,593912,593728,593928,594067,593929,594074,594101,593954,594041,593931,593954,593933,594052,594058,593778,594072,593818,594092,594032,593989,594152,593799,593996,593956,594158,593857,594250,593796,593829,594264,593959,594147,594098,594157,594153,594108,594243,594163,594231,594242,594344,594243,594071,594271,593997,594295,594187,594104,593896,594000,594244,593961,593894,593650,593921,593810,593807,593854,593592,593560,593336,593783,593531,593751,593646,593315,593387,593433,593296,593406,593722,593446,593626,593438,593340,593505,593210,593733,593449,593492,593436,593218,593461,593309,593509,593396,593591,593442,593084,593392,593269,593393,593331,593261,593475,593238,593317,593420,593360,593264,593377,593266,593313,593357,593264,593406,593228,593232,593155,593075,593178,593087,593427,593169,593332,593275,593251,593300,593099,593278,593020,593320,593251,593463,592991,593139,593158,593271,593309,593196,593234,593197,593268,593277,593041,593265,593085,593267,592903,593091,593194,592969,593140,593236,592961,593099,593020,593089,592764,593045,592934,593229,592880,593167,592993,593349,593619,594005,594305,594421,593756,593326,592957,592896,592638,592844,592793,592736,592778,593209,593074,592909,592615,592758,592898,592893,592988,593143,592557,592816,592887,593045,592875,592916,593057,592861,593062,592944,592958,592643,593096,592948,592777,593124,592827,592938,592886,593257,593071,593058,593224,593034,593089,593111,593301,593232,593172,593407,593093,593330,593047,593210,593232,593302,593155,593258,593400,593166,593058,592892,593034,593022,592865,593228,592730,592903,592898,592483,592645,592654,592841,592627,592729,592611,592829,592766,592501,592609,592448,592513,592554,592658,592617,592503,592793,592339,592365,592656,592728,592460,592527,592512,592455,592490,592375,592462,592405,592631,592359,592724,592644,592404,592536,592228,592522,592575,592411,592566,592307,592555,592511,592701,592466,592420,592522,592322,592444,592238,592619,592683,592460,592256,592409,592543,592316,592420,592561,592216,592160,592412,592349,592148,592360,592374,592497,592326,592532,592429,592354,592394,592414,592437,592237,592509,592634,592218,592354,592309,592198,592381,592578,592415,592033,592293,592185,592179,592323,592370,592429,592254,592269,592105,592238,592012,592170,592127,592150,592394,592189,592307,592266,592763,592878,593336,593551,593449,593108,592580,592321,592024,591987,591956,591813,592016,592036,592236,592188,592089,592105,592085,592481,592181,592230,592242,592333,592137,592044,592346,591976,592450,592273,592467,592348,592224,592249,592198,592275,592302,592402,592388,592348,592474,592412,592465,592376,592528,592405,592738,592678,592267,592532,592447,592401,592673,592587,592557,592682,592708,592556,592756,592616,592600,592604,592524,592551,592365,592644,592429,592287,592347,592537,592469,592037,592176,592077,592250,592038,592105,591772,591970,592377,591932,591947,592018,592120,591972,591957,592040,591936,591956,592011,591958,591955,591974,592036,591900,591956,591883,592043,592012,591851,592141,591627,592058,591891,591928,591856,591897,591927,591935,591980,591727,591814,591941,592036,592059,591802,592000,591775,591944,591881,591951,591883,591903,591837,591674,591814,591675,591996,591539,591971,592046,591688,591736,591693,591712,591763,591983,591787,591754,591840,591584,591767,591741,591796,591720,591749,591875,591744,591592,591811,591644,591597,591724,591768,591605,591652,591670,591682,591639,591610,591780,591399,591510,591440,591479,591485,591850,591404,591257,591491,591609,592071,592146,592426,592586,592751,592924,592141,591763,591394,591391,591241,591224,591333,591185,591360,591417,591418,591581,591737,591732,591511,591512,591502,591683,591302,591455,591366,591472,591588,591396,591624,591522,591525,591483,591503,591689,591639,591603,591492,591597,591555,591555,591515,591518,591581,591663,591728,591688,591704,592022,591626,591867,591821,591900,591881,591711,591901,591613,591884,591725,592094,591677,591731,591947,591466,591748,591669,591535,591513,591653,591448,591267,591412,591147,591337,591329,591208,591127,591216,591221,590949,591124,591118,591192,591162,591031,591045,591004,591191,591049,591241,591052,591102,591226,590986,591177,591136,591111,591168,591092,590915,591088,591025,591006,591088,591052,591228,591083,590915,591201,590910,591086,590909,591267,591121,591100,591175,590951,591168,590979,591033,591043,591128,591321,590909,591120,591063,591158,591007,591150,590992,590866,591222,590940,591116,591165,591185,590946,590909,591034,590841,591394,591248,591237,591027,590983,590910,590938,591255,591106,591043,590969,591110,591034,590859,591149,590850,591074,590901,591114,590996,590728,591149,590831,591108,591033,590891,590816,590739,591197,591273,591404,591718,591993,592119,592446,591681,591255,590963,590832,590899,590794,590674,590995,590771,590897,590880,591052,590995,591133,591162,590882,590795,591011,591144,591007,591064,590908,590877,591064,590934,590934,590802,591184,591017,590945,591036,590746,591100,590850,591248,590841,591233,591167,591118,591317,591071,591147,591227,591311,591362,591093,591327,591151,591391,591248,591378,591454,591160,591325,591228,591355,591400,591448,591141,591021,591114,590764,590952,591063,591201,590793,590747,590973,590761,590762,590721,590949,590905,590830,590758,590503,590514,590469,590732,590621,590611,590853,590413,590654,590467,590636,590656,590641,590645,590557,590539,590341,590508,590545,590691,590284,590645,590675,590364,590673,590371,590770,590468,590570,590662,590464,590552,590461,590637,590489,590568,590609,590441,590602,590247,590400,590264,590657,590518,590617,590476,590440,590347,590432,590640,590599,590544,590608,590345,590486,590378,590507,590555,590684,590376,590278,590371,590448,590488,590462,590701,590654,590494,590467,590580,590419,590496,590641,590494,590472,590412,590469,590664,590327,590508,590475,590572,590410,590449,590556,590479,590557,590347,590475,590534,590274,590478,590597,590512,590261,590346,590470,590556,591146,591154,591459,591510,592065,591341,590859,590657,590414,590411,590307,590486,590141,590251,590510,590528,590587,590487,590588,590436,590403,590742,590640,590716,590577,590806,590476,590578,590750,590502,590712,590743,590782,590609,590680,590505,590649,590695,590936,590803,590741,590969,590639,590810,590897,590774,591069,590878,591047,591063,590974,591132,590934,591325,591118,591257,591183,591198,591230,590894,591261,591034,591077,591144,591172,590978,590790,591076,590941,590933,590715,590865,590736,590830,590707,590458,590749,590563,590708,590574,590777,590586,590476,590796,590612,590516,590540,590635,590817,590488,590518,590305,590582,590629,590905,590698,590377,590398,590365,590750,590556,590874,590611,590660,590752,590374,590583,590507,590817,590578,590847,590660,590597,590535,590647,590772,590576,590652,590850,590497,590665,590632,590787,590560,590606,590727,590350,590733,590396,590821,590520,590710,590701,590529,590802,590672,590818,590611,590746,590747,590659,590724,590690,590862,590706,591016,590482,590673,590778,590555,590742,590457,590747,590435,590591,590572,590448,590695,590605,590778,590645,590882,590582,590581,590817,590520,590504,590464,590640,590484,590716,590905,590749,591531,591662,591986,592022,591310,591024,590510,590613,590282,590550,590377,590635,590594,590458,590592,590544,590704,590776,590460,590642,590615,590860,590747,590508,590473,590763,590513,590710,590925,590593,590935,590738,590891,590607,590771,590837,590558,590941,590760,590934,590820,590944,590877]";
    NSError* error;
    NSArray *arr=[NSJSONSerialization JSONObjectWithData:[ecgAtring dataUsingEncoding:NSUTF8StringEncoding] options:NSJSONReadingAllowFragments error:&error];
    if(error) {
        NSLog(@"IT NOT AN VALID JSON OBJECT !!!");
    } else {
        NSMutableArray *muArr = [NSMutableArray arrayWithCapacity:0];
        for (int i = 0; i < [arr count]; i++) {
            int tmp = [[arr objectAtIndex:i] intValue];
            int ecg = tmp*2000/5700;
            [muArr addObject:@(ecg)];
        }
        NSData *muData = [NSJSONSerialization dataWithJSONObject:muArr options:0 error:&error];
        if (!error) {
            NSString *jsonString = [[NSString alloc] initWithData:muData encoding:NSUTF8StringEncoding];
            NSLog(@"=====muArr===jsonString:%@", jsonString);
        }
        
        NSArray *reArr = [ECGFilter filterEcgData:muArr];
        NSData *data = [NSJSONSerialization dataWithJSONObject:reArr options:0 error:&error];
        if (!error) {
            NSString *jsonString = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];
            NSLog(@"=====reArr===jsonString:%@", jsonString);
        }
    }

}

- (void)selectAtSeven:(NSInteger)row {
    switch (row) {
        case 0:
        {
            [[BLEShareInstance shareInstance].bleSolstice syscGPSDataInfo];
        }
            break;
        case 1:
        {
            [[BLEShareInstance shareInstance].bleSolstice syscGPSDetailDataWithday:1];
        }
            break;
        case 2:
        {
            dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
                NSDate *date = [NSDate date];
                NSString *dateString = [NSString stringWithFormat:@"%ld-%ld-%ld", date.year, date.month, date.day];
                NSString *fullPath = [[NSHomeDirectory() stringByAppendingPathComponent:@"Documents"] stringByAppendingPathComponent:[NSString stringWithFormat:@"%@-%@", dateString, @"cep.bin"]];
                
                NSFileManager *fileManager = [NSFileManager defaultManager];
                
                if ([[fileManager contentsAtPath:fullPath] length] > 0) {
                    NSLog(@"文件已存在");
                    [[BLEShareInstance shareInstance].bleSolstice writeGPSCEPFile:fullPath];
                } else {
                    NSError *error = nil;
                    NSString *urlString = [CEP_URL stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet characterSetWithCharactersInString:@"`#%^{}\"[]|\\<> "].invertedSet];
                    NSURL *cepUrl = [NSURL URLWithString:urlString];
                    NSData *data = [NSData dataWithContentsOfURL:cepUrl options:NSDataReadingUncached error:&error];
                    if (error) {
                        NSLog(@"%@",error);
                    }
                    if (data.length > 10) {
                        @try {
                            [fileManager createFileAtPath:fullPath contents:data attributes:nil];
                        } @catch (NSException *exception) {
                            NSLog(@"NSException: %@",exception);
                        } @finally {
                            
                        }
                        
                        if ([[fileManager contentsAtPath:fullPath] length] == 0) {
                            UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@"Notice" message:@"文件下载失败" preferredStyle:UIAlertControllerStyleAlert];
                            
                            UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@"close" style:UIAlertActionStyleCancel handler:nil];
                            [alertController addAction:cancelAction];
                            [self presentViewController:alertController animated:YES completion:nil];
                        } else {
                            NSLog(@"文件下载完成");
                            [[BLEShareInstance shareInstance].bleSolstice writeGPSCEPFile:fullPath];
                        }
                    }
                }
            });
        }
            break;
        case 3:
        {
            [[BLEShareInstance shareInstance].bleSolstice endAGPS];
        }
            break;
        case 4:
        {
            [[BLEShareInstance shareInstance].bleSolstice checkGPSInBandIsOpen];
        }
            break;
        case 5:
        {
            [[BLEShareInstance shareInstance].bleSolstice checkAGPSIsUpdateToday];
        }
            break;
        case 6: {
            [[BLEShareInstance shareInstance].bleSolstice checkAGPSIsOpen];
        }
            break;
        case 7: {
            [[BLEShareInstance shareInstance].bleSolstice sendAGPSFileLenth:13];
        }
            break;
        default:
            break;
    }
}

- (void)selectAtEight:(NSInteger)row {
    [[BLEShareInstance shareInstance].bleSolstice syscBloodPressureData];
}

- (void)selectAtNine:(NSInteger)row {
    [self.navigationController pushViewController:[RealTimeDataViewController new] animated:YES];
}
- (void)selectAtTen:(NSInteger)row {
    [self.navigationController pushViewController:[BLDurationViewController new] animated:YES];
}

- (void)selectAtEleven:(NSInteger)row {
    NSString *mediaType = AVMediaTypeVideo;//读取媒体类型
    AVAuthorizationStatus authStatus = [AVCaptureDevice authorizationStatusForMediaType:mediaType];//读取设备授权状态
    if (authStatus == AVAuthorizationStatusDenied || authStatus == AVAuthorizationStatusRestricted) {
        NSLog(@"没有调用相机的权限");
        return;
    }
    UIImagePickerController * imagePikerViewController = [[UIImagePickerController alloc] init];
    imagePikerViewController.sourceType = UIImagePickerControllerSourceTypeCamera;
    imagePikerViewController.showsCameraControls = NO;
    imagePikerViewController.cameraDevice = UIImagePickerControllerCameraDeviceRear;
    CameraView *overlayView = [CameraView cameraView];
    overlayView.frame = CGRectMake(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);
    overlayView.backgroundColor = [UIColor clearColor];
    overlayView.picker = imagePikerViewController;
    imagePikerViewController.cameraOverlayView = overlayView;
    [self presentViewController:imagePikerViewController animated:YES completion:NULL];
}


#pragma mark- StateViewDelegate
- (void)reConnectAction {
    [[BLEShareInstance shareInstance] reConnectDevice];
}

- (void)deviceStateViewDidClicked {
    [[BLEShareInstance shareInstance] unConnectDevice];
    [_dsView clearView];
    DCViewController *dcVc = [[DCViewController alloc]init];
    [self.navigationController pushViewController:dcVc animated:YES];
}

- (void)refreshDeviceState:(NSNotification *)notice {
    NSString *name = notice.object;
    [_dsView setStateLText:1];
    [_dsView setNameLText:name];
}
- (void)refreshDeviceInfo:(NSNotification *)notice {
    dispatch_async(dispatch_get_main_queue(), ^{
        ZRDeviceInfo *info = (ZRDeviceInfo *)notice.object;
        [self->_dsView setModelLText:info.model];
     /*   NSInteger state = [[BLEShareInstance shareInstance]currentState];
        if (state == kBLEstateDidConnected) {
            self.navigationItem.leftBarButtonItem.title = @"已绑定(binded)";
            //        self.navigationItem.leftBarButtonItem.enabled = NO;
        }else {
            self.navigationItem.leftBarButtonItem.title = @"Connect Device";
            //        self.navigationItem.leftBarButtonItem.enabled = YES;
        }
        [_dsView setStateLText:state];*/
        [self->_dsView setversionLText:info.version];
        [self->_dsView setBatteryLText:info.batLevel];
    });
}

@end
